AUX_SOURCE_DIRECTORY(./grpc SRC_GRPC)
AUX_SOURCE_DIRECTORY(./model SRC_MODEL)
AUX_SOURCE_DIRECTORY(./restful SRC_RESTFUL)
AUX_SOURCE_DIRECTORY(./services SRC_SERVICE)
AUX_SOURCE_DIRECTORY(./config SRC_CONFIG)
AUX_SOURCE_DIRECTORY(./web SRC_WEB)

LIST(APPEND SRC_LIST ${SRC_GRPC} ${SRC_MODEL} ${SRC_RESTFUL} ${SRC_SERVICE} ${SRC_CONFIG} ${SRC_WEB})
message(STATUS "source files: ${SRC_LIST}")

set(GRPC_PROJECT matrix_apps)
add_executable(${GRPC_PROJECT} ${SRC_LIST} main.cpp)

target_link_libraries(${GRPC_PROJECT} ${PROJECT_NAME_STR}_utils)
target_link_libraries(${GRPC_PROJECT} ${PROJECT_NAME_STR})
target_link_libraries(${GRPC_PROJECT} ${CMAKE_THREAD_LIBS_INIT})
target_link_libraries(${GRPC_PROJECT} ${FREETYPE_LIBRARIES})
target_link_libraries(${GRPC_PROJECT} ${JSONCPP_LIBRARIES})
target_link_libraries(${GRPC_PROJECT} ${GLOG_LIBRARIES})
target_link_libraries(${GRPC_PROJECT} ${GRPC_LIBRARIES})
target_link_libraries(${GRPC_PROJECT} ${OpenCV_LIBS})
target_link_libraries(${GRPC_PROJECT} ${PROTOBUF_LIBRARY})
#target_link_libraries(${GRPC_PROJECT} ${DLIB_LIBRARY})
target_link_libraries(${GRPC_PROJECT} ${Caffe_DEP_LIBRARIES})
target_link_libraries(${GRPC_PROJECT} ${Boost_LIBRARIES})
target_link_libraries(${GRPC_PROJECT} ${LIB_PBJSON})

#INSTALL(TARGETS witness RUNTIME DESTINATION ${PROJECT_SOURCE_DIR}/bin/${CMAKE_BUILD_TYPE})
