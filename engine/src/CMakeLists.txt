AUX_SOURCE_DIRECTORY(. SRC_LIST)
AUX_SOURCE_DIRECTORY(alg SRC_ALG)
AUX_SOURCE_DIRECTORY(engine SRC_ENGINE)
AUX_SOURCE_DIRECTORY(io SRC_IO)
AUX_SOURCE_DIRECTORY(model SRC_MODEL)
AUX_SOURCE_DIRECTORY(network SRC_NETWORK)
AUX_SOURCE_DIRECTORY(processor SRC_PROCESSOR)
AUX_SOURCE_DIRECTORY(vis SRC_VIS)


file(GLOB_RECURSE SRC_FILES *.cpp *.c *.cc)

set(PROJECT_RANKER_LIB ${PROJECT_NAME_STR}_engine)
add_library(${PROJECT_RANKER_LIB} SHARED ${SRC_FILES})

target_link_libraries(${PROJECT_RANKER_LIB} ${CMAKE_THREAD_LIBS_INIT})
target_link_libraries(${PROJECT_RANKER_LIB} ${FREETYPE_LIBRARIES})
target_link_libraries(${PROJECT_RANKER_LIB} ${JSONCPP_LIBRARIES})
target_link_libraries(${PROJECT_RANKER_LIB} ${GLOG_LIBRARIES})
target_link_libraries(${PROJECT_RANKER_LIB} ${OpenCV_LIBS})
target_link_libraries(${PROJECT_RANKER_LIB} ${PROTOBUF_LIBRARY})
target_link_libraries(${PROJECT_RANKER_LIB} ${DLIB_LIBRARY})
target_link_libraries(${PROJECT_RANKER_LIB} ${Caffe_LIBRARIES})
target_link_libraries(${PROJECT_RANKER_LIB} ${PROJECT_NAME_STR}_utils)